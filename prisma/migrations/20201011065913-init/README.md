# Migration `20201011065913-init`

This migration has been generated by Neil Francis Nahid at 10/11/2020, 2:59:13 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `client_computers` (
`id` int  NOT NULL  AUTO_INCREMENT,
`name` varchar(191)  ,
`macAddress` varchar(191)  NOT NULL ,
`isOnline` boolean  NOT NULL DEFAULT false,
`isUnlocked` boolean  NOT NULL DEFAULT false,
`socketID` varchar(191)  ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
UNIQUE INDEX `client_computers.macAddress_unique`(`macAddress`),
UNIQUE INDEX `client_computers.socketID_unique`(`socketID`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `roles` (
`id` int  NOT NULL  AUTO_INCREMENT,
`name` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
UNIQUE INDEX `roles.name_unique`(`name`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `users` (
`id` int  NOT NULL  AUTO_INCREMENT,
`username` varchar(191)  NOT NULL ,
`password` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `_roleTouser` (
`A` int  NOT NULL ,
`B` int  NOT NULL ,
UNIQUE INDEX `_roleTouser_AB_unique`(`A`,
`B`),
INDEX `_roleTouser_B_index`(`B`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

ALTER TABLE `_roleTouser` ADD FOREIGN KEY (`A`) REFERENCES `ICS`.`roles`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `_roleTouser` ADD FOREIGN KEY (`B`) REFERENCES `ICS`.`users`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

DROP TABLE `_migration`
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20201011065913-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,42 @@
+generator client {
+  provider = "prisma-client-js"
+}
+
+datasource db {
+  provider = "mysql"
+  url = "***"
+}
+
+model client_computer {
+  id         Int      @id @default(autoincrement())
+  name       String?
+  macAddress String   @unique
+  isOnline   Boolean  @default(false)
+  isUnlocked Boolean  @default(false)
+  socketID   String?  @unique
+  createdAt  DateTime @default(now())
+  updatedAt  DateTime @default(now()) @updatedAt
+
+  @@map(name: "client_computers")
+}
+
+model role {
+  id        Int      @id @default(autoincrement())
+  name      String   @unique
+  users     user[]
+  createdAt DateTime @default(now())
+  updatedAt DateTime @default(now()) @updatedAt
+
+  @@map(name: "roles")
+}
+
+model user {
+  id        Int      @id @default(autoincrement())
+  username  String
+  password  String
+  roles     role[]
+  createdAt DateTime @default(now())
+  updatedAt DateTime @default(now()) @updatedAt
+
+  @@map(name: "users")
+}
```


